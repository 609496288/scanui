webpackJsonp([6],{110:function(e,t,r){r(599);var o=r(3)(r(600),r(601),null,null);e.exports=o.exports},599:function(e,t){},600:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),s=o(a),n=r(6),i=o(n),c=r(29),d=o(c);t.default={data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},debug:"127.0.0.1"==document.domain||""==document.domain}},mounted:function(){var e=document.createElement("script");e.type="text/javascript",e.src="http://captcha.luosimao.com/static/js/api.js",document.body.appendChild(e);var t=this;window.login=function(e){t.handleSubmit(e)}},methods:{handleSubmit:function(e){var t=this;this.$refs.loginForm.validate(function(r){if(r){var o={u:t.form.username,p:d.default.SHA256(t.form.password).toString(),v:e||d.default.SHA1(t.form.password).toString(),username:t.form.username,password:d.default.SHA512(t.form.password).toString()};i.default.ajax({method:"POST",action:"userlogin",json:o}).then(function(e){t.projectselect(e.projectid),s.default.set("user",e.username),s.default.set("access",e.group),localStorage.token=e.token,t.$store.commit("setAvator","data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAYAAAAcNvmZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnhJREFUeNrs3U9LFGEcwPGf7ebaYWGhCBLCPQaRbNFd9w2YHrwF5dGTBtG1vIpit45l9AJ8BbmetQi6qCdB2EMprH/AXFzrN/qgo+2Ms+Mz0+P2/cLDoM4M8uHh2XkOy4gQEV2qjjgXPZiqDeqhT0dJR9GM/6GKjpqOBR1z318W1hLBVuCCHl7reK6jwDw9wZ9Q9Io1bIUeN9AgB6MPKXotNraZzTNmNlN4HnRZwb+1jG2g5826TBbAr4VcOAN0yx1NUJ2opcjYZo1m6YgP/j4Stu+pg+JXUsc3UWY2Tx12GjMTNxSb5cPecjIYiG12hsxqez0Lm9l9+FitPwybRz3L6WrRH4RdhCe5wP6H2AQ22AS2u2Wt3m3068XnbNwQmS8eH329KnfJk/udks91OAXUO711hWf2rT2RgdUzv/KQnz7KOQfdHstIriHSvevDvs6aTWCDTWCDDTa1Mfbm6aZm+WfDSZyVHw2HsT/3RDtv6Y7Ifubkx09f6lLdPnQKemf/t0xWfjm8XV+5KVLNi+TrwefUM39t1T3o4Y+7cu92puklA7rp8XaZUWejDaRlvY8H7i720ZToPB4xZtLi+kHTvz2+m7VyHz4g+YAksMEmsMEGm8AGm8AGm8AGG2wCG2wCG2ywCWywCWywCWywwSawwSawwQabwAabwAabwE637FX4J5fWD+RdxHOrW4dgXybv21+ufgOMZQRsAhvstmoN7JSg/W9pAjvZ5lhG0msW7HSqnH85ENjJ9YKnkZSgm73yCmz7fVDotzxnpwM9wqYmnaVjhB1kwk8dOh4GLR3+sljF3oJ7G5bZsJdtXoRdxrG1LTgR/RFgAEIioEX14WSDAAAAAElFTkSuQmCC"),t.$router.push({name:"project_index"})}).catch(function(e){t.$Message.error(e),window.LUOCAPTCHA.reset()})}})},projectselect:function(e){var t=this;this.projectid=e,i.default.ajax({method:"POST",action:"projectselect",json:{projectid:e}}).then(function(e){localStorage.projectid=e.projectid,localStorage.projectname=e.projectname,t.$Message.info("确定选择该系统")}).catch(function(e){t.$Message.error(e)})}}}},601:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login",attrs:{"keydown.enter":"handleSubmit('')"}},[r("div",{staticClass:"login-con"},[r("center",[r("font",{attrs:{size:"6",color:"#fffff0"}})],1),e._v(" "),r("BR"),e._v(" "),r("Card",[r("div",{staticClass:"form-con"},[r("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[r("FormItem",{attrs:{prop:"username"}},[r("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"person"}})],1)])],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),e._v(" "),e.debug?r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("")}}},[e._v("登录")])],1):r("FormItem",[r("div",{staticClass:"l-captcha",attrs:{"data-site-key":"28b0f1ba9bba5e197b5db736c5875152","data-callback":"login"}})])],1),e._v(" "),r("p",{staticClass:"login-tip"})],1)])],1)])},staticRenderFns:[]}}});