webpackJsonp([8],{109:function(e,t,s){s(604);var r=s(3)(s(605),s(606),null,null);e.exports=r.exports},604:function(e,t){},605:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(9),a=(r(o),s(6)),n=r(a),i=s(29),c=r(i);t.default={data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},debug:"127.0.0.1"==document.domain||""==document.domain}},mounted:function(){var e=document.createElement("script");e.type="text/javascript",e.src="http://captcha.luosimao.com/static/js/api.js",document.body.appendChild(e);var t=this;window.login=function(e){t.handleSubmit(e)}},methods:{handleSubmit:function(e){var t=this;this.$refs.loginForm.validate(function(s){if(s){var r={u:t.form.username,p:c.default.SHA256(t.form.password).toString(),v:e||c.default.SHA1(t.form.password).toString(),username:t.form.username,password:c.default.SHA512(t.form.password).toString()};n.default.ajax({method:"POST",action:"userlogin",json:r}).then(function(e){t.projectselect(e.projectid),sessionStorage.setItem("user",e.username),sessionStorage.setItem("access",e.group),sessionStorage.token=e.token,t.$store.commit("setAvator","data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAYAAAAcNvmZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnhJREFUeNrs3U9LFGEcwPGf7ebaYWGhCBLCPQaRbNFd9w2YHrwF5dGTBtG1vIpit45l9AJ8BbmetQi6qCdB2EMprH/AXFzrN/qgo+2Ms+Mz0+P2/cLDoM4M8uHh2XkOy4gQEV2qjjgXPZiqDeqhT0dJR9GM/6GKjpqOBR1z318W1hLBVuCCHl7reK6jwDw9wZ9Q9Io1bIUeN9AgB6MPKXotNraZzTNmNlN4HnRZwb+1jG2g5826TBbAr4VcOAN0yx1NUJ2opcjYZo1m6YgP/j4Stu+pg+JXUsc3UWY2Tx12GjMTNxSb5cPecjIYiG12hsxqez0Lm9l9+FitPwybRz3L6WrRH4RdhCe5wP6H2AQ22AS2u2Wt3m3068XnbNwQmS8eH329KnfJk/udks91OAXUO711hWf2rT2RgdUzv/KQnz7KOQfdHstIriHSvevDvs6aTWCDTWCDDTa1Mfbm6aZm+WfDSZyVHw2HsT/3RDtv6Y7Ifubkx09f6lLdPnQKemf/t0xWfjm8XV+5KVLNi+TrwefUM39t1T3o4Y+7cu92puklA7rp8XaZUWejDaRlvY8H7i720ZToPB4xZtLi+kHTvz2+m7VyHz4g+YAksMEmsMEGm8AGm8AGm8AGG2wCG2wCG2ywCWywCWywCWywwSawwSawwQabwAabwAabwE637FX4J5fWD+RdxHOrW4dgXybv21+ufgOMZQRsAhvstmoN7JSg/W9pAjvZ5lhG0msW7HSqnH85ENjJ9YKnkZSgm73yCmz7fVDotzxnpwM9wqYmnaVjhB1kwk8dOh4GLR3+sljF3oJ7G5bZsJdtXoRdxrG1LTgR/RFgAEIioEX14WSDAAAAAElFTkSuQmCC"),t.$router.push({name:"project_index"})}).catch(function(e){t.$Message.error(e),window.LUOCAPTCHA.reset()})}})},projectselect:function(e){var t=this;this.projectid=e,n.default.ajax({method:"POST",action:"projectselect",json:{projectid:e}}).then(function(e){sessionStorage.projectid=e.projectid,sessionStorage.projectname=e.projectname,t.$Message.info("确定选择该系统")}).catch(function(e){t.$Message.error(e)})}}}},606:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login",attrs:{"keydown.enter":"handleSubmit('')"}},[s("div",{staticClass:"login-con"},[s("center",[s("font",{attrs:{size:"6",color:"#fffff0"}})],1),e._v(" "),s("BR"),e._v(" "),s("Card",[s("div",{staticClass:"form-con"},[s("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[s("FormItem",{attrs:{prop:"username"}},[s("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[s("Icon",{attrs:{size:16,type:"person"}})],1)])],1),e._v(" "),s("FormItem",{attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[s("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),e._v(" "),e.debug?s("FormItem",[s("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("")}}},[e._v("登录")])],1):s("FormItem",[s("div",{staticClass:"l-captcha",attrs:{"data-site-key":"28b0f1ba9bba5e197b5db736c5875152","data-callback":"login"}})])],1),e._v(" "),s("p",{staticClass:"login-tip"})],1)])],1)])},staticRenderFns:[]}}});